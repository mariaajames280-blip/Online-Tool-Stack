<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Palette Generator Pro - OnlineWebTool</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary: #00d5ff;
            --primary-dark: #00b8e0;
            --dark: #0a0a0a;
            --dark-light: #1a1a1a;
            --border: #333;
            --text: #ffffff;
            --text-light: #cccccc;
        }
        
        body {
            background: var(--dark);
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Tool Cards Grid */
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .tool-card {
            background: var(--dark-light);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid var(--border);
            transition: all 0.3s;
            cursor: pointer;
            text-decoration: none;
            color: inherit;
            display: block;
        }
        
        .tool-card:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
        }
        
        .tool-card.active {
            border-color: var(--primary);
            background: rgba(0, 213, 255, 0.1);
        }
        
        .tool-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: var(--primary);
        }
        
        .tool-card h3 {
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 1.4rem;
        }
        
        .tool-card p {
            color: var(--text-light);
            font-size: 0.95rem;
        }
        
        /* Header */
        .header {
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(135deg, var(--dark-light) 0%, var(--dark) 100%);
            border-radius: 20px;
            margin-bottom: 30px;
            border: 1px solid var(--border);
        }
        
        .header h1 {
            color: var(--primary);
            font-size: 3rem;
            margin-bottom: 10px;
        }
        
        .header p {
            color: var(--text-light);
            font-size: 1.2rem;
        }
        
        /* Color Picker Section */
        .color-picker-section {
            background: var(--dark-light);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid var(--border);
            margin-bottom: 30px;
        }
        
        .color-picker-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            align-items: start;
        }
        
        @media (max-width: 768px) {
            .color-picker-container {
                grid-template-columns: 1fr;
            }
        }
        
        .color-picker-input {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .color-values-display {
            background: var(--dark);
            border-radius: 10px;
            padding: 20px;
            border: 1px solid var(--border);
        }
        
        .color-value-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid var(--border);
        }
        
        .color-value-item:last-child {
            border-bottom: none;
        }
        
        .value-label {
            color: var(--text-light);
            font-weight: 600;
        }
        
        .value-display {
            color: var(--primary);
            font-weight: 600;
            font-family: monospace;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 5px;
            transition: background 0.3s;
        }
        
        .value-display:hover {
            background: rgba(0, 213, 255, 0.1);
        }
        
        /* Main Layout */
        .main-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        @media (max-width: 968px) {
            .main-layout {
                grid-template-columns: 1fr;
            }
        }
        
        /* Controls Panel */
        .controls-panel {
            background: var(--dark-light);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid var(--border);
            height: fit-content;
        }
        
        .panel-section {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border);
        }
        
        .panel-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        
        .section-title {
            color: var(--primary);
            font-size: 1.3rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--primary);
            font-weight: 600;
            font-size: 0.95rem;
        }
        
        .input-group input, .input-group select {
            width: 100%;
            padding: 12px 15px;
            background: var(--dark);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text);
            font-size: 1rem;
            transition: all 0.3s;
        }
        
        .input-group input:focus, .input-group select:focus {
            border-color: var(--primary);
            outline: none;
        }
        
        /* Color Input */
        .color-input-container {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .color-preview {
            width: 60px;
            height: 60px;
            border-radius: 10px;
            border: 2px solid var(--border);
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .color-preview:hover {
            transform: scale(1.05);
        }
        
        .color-input {
            flex: 1;
        }
        
        /* Palette Types */
        .palette-types {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 15px 0;
        }
        
        .palette-type {
            background: var(--dark);
            border: 2px solid var(--border);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .palette-type:hover {
            border-color: var(--primary);
        }
        
        .palette-type.selected {
            border-color: var(--primary);
            background: rgba(0, 213, 255, 0.1);
        }
        
        .type-preview {
            width: 40px;
            height: 40px;
            margin: 0 auto 8px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }
        
        /* Preview Panel */
        .preview-panel {
            background: var(--dark-light);
            border-radius: 15px;
            padding: 30px;
            border: 1px solid var(--border);
            display: flex;
            flex-direction: column;
        }
        
        .preview-container {
            flex: 1;
            background: var(--dark);
            border-radius: 15px;
            border: 2px solid var(--border);
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .palette-preview {
            display: flex;
            height: 200px;
        }
        
        .color-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .color-item:hover {
            transform: scale(1.05);
            z-index: 2;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .color-value {
            background: rgba(0, 0, 0, 0.7);
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-top: 10px;
        }
        
        .palette-info {
            padding: 20px;
            text-align: center;
        }
        
        .palette-name {
            color: var(--primary);
            font-size: 1.5rem;
            margin-bottom: 10px;
        }
        
        .palette-description {
            color: var(--text-light);
            font-size: 1rem;
        }
        
        /* Color Details */
        .color-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        .color-detail {
            background: var(--dark);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }
        
        .detail-label {
            color: var(--text-light);
            font-size: 0.9rem;
            margin-bottom: 5px;
        }
        
        .detail-value {
            color: var(--primary);
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        /* Action Buttons */
        .action-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-top: 20px;
        }
        
        .btn {
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: var(--primary);
            color: var(--dark);
        }
        
        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 213, 255, 0.3);
        }
        
        .btn-secondary {
            background: var(--dark);
            color: var(--primary);
            border: 2px solid var(--primary);
        }
        
        .btn-secondary:hover {
            background: rgba(0, 213, 255, 0.1);
            transform: translateY(-2px);
        }
        
        /* Slider Styles */
        .slider-container {
            margin: 15px 0;
        }
        
        .slider {
            width: 100%;
            height: 6px;
            background: var(--border);
            border-radius: 3px;
            outline: none;
            -webkit-appearance: none;
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: var(--primary);
            border-radius: 50%;
            cursor: pointer;
        }
        
        .slider-value {
            color: var(--primary);
            font-weight: 600;
            text-align: center;
            margin-top: 5px;
            font-size: 0.9rem;
        }
        
        /* Download Success Message */
        .download-success {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--primary);
            color: var(--dark);
            padding: 15px 20px;
            border-radius: 10px;
            font-weight: 600;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 1000;
        }
        
        .download-success.show {
            transform: translateX(0);
        }
        
        /* Saved Palettes */
        .saved-palettes {
            margin-top: 30px;
        }
        
        .palettes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .saved-palette {
            background: var(--dark);
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid var(--border);
        }
        
        .saved-palette:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
        }
        
        .saved-colors {
            display: flex;
            height: 30px;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 8px;
        }
        
        .saved-color {
            flex: 1;
        }
        
        .saved-name {
            font-size: 0.8rem;
            text-align: center;
            color: var(--text-light);
        }
    </style>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- Tool Cards -->
        <div class="tools-grid">
            <a href="color-palette-generator.html" class="tool-card active">
                <div class="tool-icon">üé®</div>
                <h3>Color Palette Generator Pro</h3>
                <p>Create beautiful color palettes with integrated color picker and professional tools</p>
            </a>
            <a href="content-analysis-suite.html" class="tool-card">
                <div class="tool-icon">üìä</div>
                <h3>Content Analysis Suite</h3>
                <p>Advanced text analytics, word counting, readability scores and content insights</p>
            </a>
            <a href="date-time-toolkit.html" class="tool-card">
                <div class="tool-icon">üìÖ</div>
                <h3>Date Time Toolkit Pro</h3>
                <p>Comprehensive date and time utilities for calculations, conversions, and planning</p>
            </a>
        </div>
        
        <!-- Header -->
        <div class="header">
            <h1>üé® Color Palette Generator Pro</h1>
            <p>Create beautiful color palettes with integrated color picker and professional tools</p>
        </div>
        
        <!-- Color Picker Section -->
        <div class="color-picker-section">
            <h3 class="section-title">üé® Color Picker</h3>
            <div class="color-picker-container">
                <div class="color-picker-input">
                    <div class="input-group">
                        <label for="colorPicker">Select Base Color</label>
                        <input type="color" id="colorPicker" value="#00d5ff">
                    </div>
                    <div class="color-preview" id="colorPreview" style="background: #00d5ff;"></div>
                </div>
                <div class="color-values-display">
                    <div class="color-value-item">
                        <span class="value-label">HEX:</span>
                        <span class="value-display" id="hexValue">#00D5FF</span>
                    </div>
                    <div class="color-value-item">
                        <span class="value-label">RGB:</span>
                        <span class="value-display" id="rgbValue">rgb(0, 213, 255)</span>
                    </div>
                    <div class="color-value-item">
                        <span class="value-label">HSL:</span>
                        <span class="value-display" id="hslValue">hsl(190, 100%, 50%)</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="main-layout">
            <!-- Controls Panel -->
            <div class="controls-panel">
                <div class="panel-section">
                    <h3 class="section-title">üéØ Base Color</h3>
                    <div class="color-input-container">
                        <div class="color-preview" id="baseColorPreview" style="background: #00d5ff;"></div>
                        <div class="color-input">
                            <label for="baseColor">Select Base Color</label>
                            <input type="color" id="baseColor" value="#00d5ff">
                        </div>
                    </div>
                </div>
                
                <div class="panel-section">
                    <h3 class="section-title">üîÑ Palette Type</h3>
                    <div class="palette-types">
                        <div class="palette-type selected" data-type="monochromatic">
                            <div class="type-preview" style="background: linear-gradient(135deg, #00d5ff, #00b8e0, #33ddff);"></div>
                            <div>Monochromatic</div>
                        </div>
                        <div class="palette-type" data-type="analogous">
                            <div class="type-preview" style="background: linear-gradient(135deg, #00d5ff, #00ffaa, #00ddff);"></div>
                            <div>Analogous</div>
                        </div>
                        <div class="palette-type" data-type="complementary">
                            <div class="type-preview" style="background: linear-gradient(135deg, #00d5ff, #ff4400);"></div>
                            <div>Complementary</div>
                        </div>
                        <div class="palette-type" data-type="triadic">
                            <div class="type-preview" style="background: linear-gradient(135deg, #00d5ff, #ff00cc, #ccff00);"></div>
                            <div>Triadic</div>
                        </div>
                        <div class="palette-type" data-type="tetradic">
                            <div class="type-preview" style="background: linear-gradient(135deg, #00d5ff, #ccff00, #ff00cc, #00ffaa);"></div>
                            <div>Tetradic</div>
                        </div>
                        <div class="palette-type" data-type="gradient">
                            <div class="type-preview" style="background: linear-gradient(135deg, #00d5ff, #0066ff);">G</div>
                            <div>Gradient</div>
                        </div>
                    </div>
                </div>
                
                <div class="panel-section">
                    <h3 class="section-title">‚öôÔ∏è Settings</h3>
                    <div class="slider-container">
                        <label>Number of Colors: <span id="colorsValue">5</span></label>
                        <input type="range" min="3" max="8" value="5" class="slider" id="colorsCount">
                    </div>
                    
                    <div class="slider-container">
                        <label>Saturation: <span id="saturationValue">80</span>%</label>
                        <input type="range" min="20" max="100" value="80" class="slider" id="saturation">
                    </div>
                    
                    <div class="slider-container">
                        <label>Brightness: <span id="brightnessValue">70</span>%</label>
                        <input type="range" min="20" max="100" value="70" class="slider" id="brightness">
                    </div>
                </div>
                
                <div class="panel-section">
                    <h3 class="section-title">üé≤ Quick Actions</h3>
                    <div class="action-buttons">
                        <button class="btn btn-secondary" id="randomBtn">
                            üé≤ Random
                        </button>
                        <button class="btn btn-secondary" id="saveBtn">
                            üíæ Save
                        </button>
                        <button class="btn btn-secondary" id="resetBtn">
                            üîÑ Reset
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Preview Panel -->
            <div class="preview-panel">
                <div class="preview-container">
                    <div class="palette-preview" id="palettePreview">
                        <!-- Colors will be generated here -->
                    </div>
                    <div class="palette-info">
                        <div class="palette-name" id="paletteName">Ocean Blue</div>
                        <div class="palette-description" id="paletteDescription">Monochromatic palette based on #00D5FF</div>
                    </div>
                </div>
                
                <div class="color-details" id="colorDetails">
                    <!-- Color details will be generated here -->
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-primary" id="downloadPngBtn">
                        üíæ Download PNG
                    </button>
                    <button class="btn btn-primary" id="downloadSvgBtn">
                        üìê Download SVG
                    </button>
                    <button class="btn btn-primary" id="copyCodesBtn">
                        üìã Copy Codes
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Saved Palettes -->
        <div class="saved-palettes">
            <h3 class="section-title">üìö Saved Palettes</h3>
            <div class="palettes-grid" id="savedPalettes">
                <!-- Saved palettes will appear here -->
            </div>
        </div>
    </div>

    <!-- Download Success Message -->
    <div class="download-success" id="downloadSuccess">
        <i class="fas fa-check-circle"></i> Download Started!
    </div>

    <script>
        // Current palette state
        let currentPalette = {
            baseColor: '#00d5ff',
            type: 'monochromatic',
            colorsCount: 5,
            saturation: 80,
            brightness: 70,
            colors: []
        };

        // Saved palettes
        let savedPalettes = [];

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            initializeEventListeners();
            updateColorValues('#00d5ff');
            generatePalette();
            loadSavedPalettes();
        });

        function initializeEventListeners() {
            // Color Picker
            document.getElementById('colorPicker').addEventListener('input', function(e) {
                const color = e.target.value;
                updateColorValues(color);
                document.getElementById('baseColor').value = color;
                document.getElementById('baseColorPreview').style.background = color;
                currentPalette.baseColor = color;
                generatePalette();
            });

            // Base color input
            document.getElementById('baseColor').addEventListener('input', function() {
                const color = this.value;
                currentPalette.baseColor = color;
                document.getElementById('baseColorPreview').style.background = color;
                document.getElementById('colorPicker').value = color;
                updateColorValues(color);
                generatePalette();
            });

            // Color value copy functionality
            document.querySelectorAll('.value-display').forEach(element => {
                element.addEventListener('click', function() {
                    const text = this.textContent;
                    copyToClipboard(text);
                    showCopyFeedback(this);
                });
            });

            // Palette type selection
            document.querySelectorAll('.palette-type').forEach(type => {
                type.addEventListener('click', function() {
                    document.querySelectorAll('.palette-type').forEach(t => t.classList.remove('selected'));
                    this.classList.add('selected');
                    currentPalette.type = this.dataset.type;
                    generatePalette();
                });
            });

            // Sliders
            document.getElementById('colorsCount').addEventListener('input', function() {
                currentPalette.colorsCount = parseInt(this.value);
                document.getElementById('colorsValue').textContent = this.value;
                generatePalette();
            });

            document.getElementById('saturation').addEventListener('input', function() {
                currentPalette.saturation = parseInt(this.value);
                document.getElementById('saturationValue').textContent = this.value;
                generatePalette();
            });

            document.getElementById('brightness').addEventListener('input', function() {
                currentPalette.brightness = parseInt(this.value);
                document.getElementById('brightnessValue').textContent = this.value;
                generatePalette();
            });

            // Action buttons
            document.getElementById('randomBtn').addEventListener('click', generateRandomPalette);
            document.getElementById('saveBtn').addEventListener('click', savePalette);
            document.getElementById('resetBtn').addEventListener('click', resetPalette);
            document.getElementById('downloadPngBtn').addEventListener('click', () => downloadPalette('png'));
            document.getElementById('downloadSvgBtn').addEventListener('click', () => downloadPalette('svg'));
            document.getElementById('copyCodesBtn').addEventListener('click', copyColorCodes);
        }

        function updateColorValues(hexColor) {
            document.getElementById('colorPreview').style.background = hexColor;
            document.getElementById('hexValue').textContent = hexColor.toUpperCase();
            
            // Convert to RGB
            const rgb = hexToRGB(hexColor);
            document.getElementById('rgbValue').textContent = rgb;
            
            // Convert to HSL
            const hsl = hexToHSLString(hexColor);
            document.getElementById('hslValue').textContent = hsl;
        }

        function generatePalette() {
            const colors = generateColors();
            currentPalette.colors = colors;
            updatePalettePreview(colors);
            updateColorDetails(colors);
            updatePaletteInfo();
        }

        function generateColors() {
            const baseHSL = hexToHSL(currentPalette.baseColor);
            const colors = [];
            
            switch(currentPalette.type) {
                case 'monochromatic':
                    for (let i = 0; i < currentPalette.colorsCount; i++) {
                        const hue = baseHSL.h;
                        const saturation = Math.max(20, Math.min(100, baseHSL.s + (i - Math.floor(currentPalette.colorsCount/2)) * 10));
                        const lightness = Math.max(20, Math.min(80, baseHSL.l + (i - Math.floor(currentPalette.colorsCount/2)) * 15));
                        colors.push(HSLToHex(hue, saturation, lightness));
                    }
                    break;
                    
                case 'analogous':
                    for (let i = 0; i < currentPalette.colorsCount; i++) {
                        const hue = (baseHSL.h + (i - Math.floor(currentPalette.colorsCount/2)) * 30) % 360;
                        colors.push(HSLToHex(hue, currentPalette.saturation, currentPalette.brightness));
                    }
                    break;
                    
                case 'complementary':
                    colors.push(currentPalette.baseColor);
                    colors.push(HSLToHex((baseHSL.h + 180) % 360, currentPalette.saturation, currentPalette.brightness));
                    // Generate additional colors
                    for (let i = 2; i < currentPalette.colorsCount; i++) {
                        const hue = (baseHSL.h + (i * 60)) % 360;
                        colors.push(HSLToHex(hue, currentPalette.saturation, currentPalette.brightness));
                    }
                    break;
                    
                case 'triadic':
                    colors.push(currentPalette.baseColor);
                    colors.push(HSLToHex((baseHSL.h + 120) % 360, currentPalette.saturation, currentPalette.brightness));
                    colors.push(HSLToHex((baseHSL.h + 240) % 360, currentPalette.saturation, currentPalette.brightness));
                    // Generate additional colors if needed
                    for (let i = 3; i < currentPalette.colorsCount; i++) {
                        const hue = (baseHSL.h + (i * 30)) % 360;
                        colors.push(HSLToHex(hue, currentPalette.saturation, currentPalette.brightness));
                    }
                    break;
                    
                case 'tetradic':
                    colors.push(currentPalette.baseColor);
                    colors.push(HSLToHex((baseHSL.h + 90) % 360, currentPalette.saturation, currentPalette.brightness));
                    colors.push(HSLToHex((baseHSL.h + 180) % 360, currentPalette.saturation, currentPalette.brightness));
                    colors.push(HSLToHex((baseHSL.h + 270) % 360, currentPalette.saturation, currentPalette.brightness));
                    // Generate additional colors if needed
                    for (let i = 4; i < currentPalette.colorsCount; i++) {
                        const hue = (baseHSL.h + (i * 45)) % 360;
                        colors.push(HSLToHex(hue, currentPalette.saturation, currentPalette.brightness));
                    }
                    break;
                    
                case 'gradient':
                    const startHSL = hexToHSL(currentPalette.baseColor);
                    const endHSL = {...startHSL, h: (startHSL.h + 60) % 360};
                    for (let i = 0; i < currentPalette.colorsCount; i++) {
                        const progress = i / (currentPalette.colorsCount - 1);
                        const hue = startHSL.h + (endHSL.h - startHSL.h) * progress;
                        colors.push(HSLToHex(hue, currentPalette.saturation, currentPalette.brightness));
                    }
                    break;
            }
            
            return colors;
        }

        function updatePalettePreview(colors) {
            const preview = document.getElementById('palettePreview');
            preview.innerHTML = '';
            
            colors.forEach(color => {
                const colorItem = document.createElement('div');
                colorItem.className = 'color-item';
                colorItem.style.background = color;
                colorItem.innerHTML = `<div class="color-value">${color}</div>`;
                
                colorItem.addEventListener('click', function() {
                    copyToClipboard(color);
                    showCopyFeedback(colorItem);
                });
                
                preview.appendChild(colorItem);
            });
        }

        function updateColorDetails(colors) {
            const details = document.getElementById('colorDetails');
            details.innerHTML = '';
            
            const formats = ['Hex', 'RGB', 'HSL'];
            
            formats.forEach(format => {
                const detail = document.createElement('div');
                detail.className = 'color-detail';
                
                let value = '';
                if (format === 'Hex') {
                    value = colors[0];
                } else if (format === 'RGB') {
                    value = hexToRGB(colors[0]);
                } else if (format === 'HSL') {
                    value = hexToHSLString(colors[0]);
                }
                
                detail.innerHTML = `
                    <div class="detail-label">${format}</div>
                    <div class="detail-value">${value}</div>
                `;
                
                details.appendChild(detail);
            });
        }

        function updatePaletteInfo() {
            const typeNames = {
                'monochromatic': 'Monochromatic',
                'analogous': 'Analogous',
                'complementary': 'Complementary',
                'triadic': 'Triadic',
                'tetradic': 'Tetradic',
                'gradient': 'Gradient'
            };
            
            document.getElementById('paletteName').textContent = `${typeNames[currentPalette.type]} Palette`;
            document.getElementById('paletteDescription').textContent = 
                `${typeNames[currentPalette.type]} palette based on ${currentPalette.baseColor}`;
        }

        // Color conversion functions
        function hexToHSL(hex) {
            let r = parseInt(hex.slice(1, 3), 16) / 255;
            let g = parseInt(hex.slice(3, 5), 16) / 255;
            let b = parseInt(hex.slice(5, 7), 16) / 255;

            let max = Math.max(r, g, b), min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;

            if (max === min) {
                h = s = 0;
            } else {
                let d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                switch (max) {
                    case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                    case g: h = (b - r) / d + 2; break;
                    case b: h = (r - g) / d + 4; break;
                }
                h /= 6;
            }

            return {
                h: Math.round(h * 360),
                s: Math.round(s * 100),
                l: Math.round(l * 100)
            };
        }

        function HSLToHex(h, s, l) {
            h /= 360;
            s /= 100;
            l /= 100;
            let r, g, b;
            if (s === 0) {
                r = g = b = l;
            } else {
                const hue2rgb = (p, q, t) => {
                    if (t < 0) t += 1;
                    if (t > 1) t -= 1;
                    if (t < 1/6) return p + (q - p) * 6 * t;
                    if (t < 1/2) return q;
                    if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;
                    return p;
                };
                const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                const p = 2 * l - q;
                r = hue2rgb(p, q, h + 1/3);
                g = hue2rgb(p, q, h);
                b = hue2rgb(p, q, h - 1/3);
            }
            const toHex = x => {
                const hex = Math.round(x * 255).toString(16);
                return hex.length === 1 ? '0' + hex : hex;
            };
            return `#${toHex(r)}${toHex(g)}${toHex(b)}`.toUpperCase();
        }

        function hexToRGB(hex) {
            const r = parseInt(hex.slice(1, 3), 16);
            const g = parseInt(hex.slice(3, 5), 16);
            const b = parseInt(hex.slice(5, 7), 16);
            return `rgb(${r}, ${g}, ${b})`;
        }

        function hexToHSLString(hex) {
            const hsl = hexToHSL(hex);
            return `hsl(${hsl.h}, ${hsl.s}%, ${hsl.l}%)`;
        }

        // Action functions
        function generateRandomPalette() {
            const randomHex = '#' + Math.floor(Math.random()*16777215).toString(16).toUpperCase();
            document.getElementById('baseColor').value = randomHex;
            document.getElementById('baseColorPreview').style.background = randomHex;
            document.getElementById('colorPicker').value = randomHex;
            updateColorValues(randomHex);
            currentPalette.baseColor = randomHex;
            
            const types = ['monochromatic', 'analogous', 'complementary', 'triadic', 'tetradic', 'gradient'];
            const randomType = types[Math.floor(Math.random() * types.length)];
            
            document.querySelectorAll('.palette-type').forEach(t => t.classList.remove('selected'));
            document.querySelector(`.palette-type[data-type="${randomType}"]`).classList.add('selected');
            currentPalette.type = randomType;
            
            generatePalette();
        }

        function savePalette() {
            const paletteName = prompt('Enter a name for this palette:', `My ${currentPalette.type} Palette`);
            if (paletteName) {
                const palette = {
                    name: paletteName,
                    colors: [...currentPalette.colors],
                    type: currentPalette.type,
                    baseColor: currentPalette.baseColor,
                    timestamp: new Date().toISOString()
                };
                
                savedPalettes.push(palette);
                saveToLocalStorage();
                loadSavedPalettes();
                
                // Show feedback
                alert(`Palette "${paletteName}" saved successfully!`);
            }
        }

        function resetPalette() {
            document.getElementById('baseColor').value = '#00d5ff';
            document.getElementById('baseColorPreview').style.background = '#00d5ff';
            document.getElementById('colorPicker').value = '#00d5ff';
            updateColorValues('#00d5ff');
            document.getElementById('colorsCount').value = 5;
            document.getElementById('saturation').value = 80;
            document.getElementById('brightness').value = 70;
            
            document.getElementById('colorsValue').textContent = '5';
            document.getElementById('saturationValue').textContent = '80';
            document.getElementById('brightnessValue').textContent = '70';
            
            document.querySelectorAll('.palette-type').forEach(t => t.classList.remove('selected'));
            document.querySelector('.palette-type[data-type="monochromatic"]').classList.add('selected');
            
            currentPalette = {
                baseColor: '#00d5ff',
                type: 'monochromatic',
                colorsCount: 5,
                saturation: 80,
                brightness: 70,
                colors: []
            };
            
            generatePalette();
        }

        function downloadPalette(format) {
            // In a real implementation, this would generate and download the file
            // For this demo, we'll show a success message
            showDownloadSuccess();
            
            // Simulate file download
            setTimeout(() => {
                const fileName = `color-palette-${currentPalette.type}-${Date.now()}.${format}`;
                alert(`Your palette has been downloaded as ${fileName}`);
            }, 1000);
        }

        function copyColorCodes() {
            const colorCodes = currentPalette.colors.join('\n');
            copyToClipboard(colorCodes);
            alert('Color codes copied to clipboard!');
        }

        function copyToClipboard(text) {
            const textarea = document.createElement('textarea');
            textarea.value = text;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
        }

        function showCopyFeedback(element) {
            const originalText = element.textContent;
            element.textContent = 'Copied!';
            setTimeout(() => {
                element.textContent = originalText;
            }, 1000);
        }

        function showDownloadSuccess() {
            const successMsg = document.getElementById('downloadSuccess');
            successMsg.classList.add('show');
            setTimeout(() => {
                successMsg.classList.remove('show');
            }, 3000);
        }

        // Local storage functions
        function saveToLocalStorage() {
            localStorage.setItem('colorPaletteGenerator_savedPalettes', JSON.stringify(savedPalettes));
        }

        function loadSavedPalettes() {
            const saved = localStorage.getItem('colorPaletteGenerator_savedPalettes');
            if (saved) {
                savedPalettes = JSON.parse(saved);
            }
            renderSavedPalettes();
        }

        function renderSavedPalettes() {
            const container = document.getElementById('savedPalettes');
            container.innerHTML = '';
            
            savedPalettes.forEach((palette, index) => {
                const paletteElement = document.createElement('div');
                paletteElement.className = 'saved-palette';
                
                const colorsHtml = palette.colors.map(color => 
                    `<div class="saved-color" style="background: ${color};"></div>`
                ).join('');
                
                paletteElement.innerHTML = `
                    <div class="saved-colors">${colorsHtml}</div>
                    <div class="saved-name">${palette.name}</div>
                `;
                
                paletteElement.addEventListener('click', () => loadSavedPalette(index));
                
                container.appendChild(paletteElement);
            });
        }

        function loadSavedPalette(index) {
            const palette = savedPalettes[index];
            document.getElementById('baseColor').value = palette.baseColor;
            document.getElementById('baseColorPreview').style.background = palette.baseColor;
            document.getElementById('colorPicker').value = palette.baseColor;
            updateColorValues(palette.baseColor);
            
            document.querySelectorAll('.palette-type').forEach(t => t.classList.remove('selected'));
            document.querySelector(`.palette-type[data-type="${palette.type}"]`).classList.add('selected');
            
            currentPalette.baseColor = palette.baseColor;
            currentPalette.type = palette.type;
            currentPalette.colors = [...palette.colors];
            
            updatePalettePreview(palette.colors);
            updateColorDetails(palette.colors);
            updatePaletteInfo();
        }
    </script>
</body>
</html>
