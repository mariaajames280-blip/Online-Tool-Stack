<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gradient Generator Pro - OnlineWebTool</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary: rgb(0, 213, 255);
            --primary-dark: rgb(0, 180, 220);
            --primary-light: rgba(0, 213, 255, 0.1);
            --dark: #0a0a0a;
            --dark-light: #1a1a1a;
            --border: #333;
            --text: #ffffff;
            --text-light: #cccccc;
        }
        
        body {
            background: var(--dark);
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Tool Card */
        .tool-card {
            background: var(--dark-light);
            border-radius: 20px;
            overflow: hidden;
            border: 1px solid var(--border);
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .tool-header {
            background: linear-gradient(135deg, var(--dark) 0%, var(--dark-light) 100%);
            padding: 30px;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .tool-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .tool-icon {
            width: 70px;
            height: 70px;
            background: var(--primary);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: var(--dark);
        }
        
        .tool-text h1 {
            color: var(--primary);
            font-size: 2.5rem;
            margin-bottom: 5px;
        }
        
        .tool-text p {
            color: var(--text-light);
            font-size: 1.1rem;
        }
        
        .tool-actions {
            display: flex;
            gap: 15px;
        }
        
        /* Main Layout */
        .main-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 0 30px 40px;
        }
        
        @media (max-width: 968px) {
            .main-layout {
                grid-template-columns: 1fr;
            }
        }
        
        /* Controls Panel */
        .controls-panel {
            background: var(--dark-light);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid var(--border);
            height: fit-content;
        }
        
        .panel-section {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border);
        }
        
        .panel-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        
        .section-title {
            color: var(--primary);
            font-size: 1.3rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--primary);
            font-weight: 600;
            font-size: 0.95rem;
        }
        
        .input-group input, .input-group select {
            width: 100%;
            padding: 12px 15px;
            background: var(--dark);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text);
            font-size: 1rem;
            transition: all 0.3s;
        }
        
        .input-group input:focus, .input-group select:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 2px var(--primary-light);
        }
        
        /* Color Input */
        .color-input-container {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .color-preview {
            width: 60px;
            height: 60px;
            border-radius: 10px;
            border: 2px solid var(--border);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .color-preview:hover {
            border-color: var(--primary);
        }
        
        .color-input {
            flex: 1;
        }
        
        /* Gradient Types */
        .gradient-types {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 15px 0;
        }
        
        .gradient-type {
            background: var(--dark);
            border: 2px solid var(--border);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .gradient-type:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
        }
        
        .gradient-type.selected {
            border-color: var(--primary);
            background: var(--primary-light);
        }
        
        .type-preview {
            width: 40px;
            height: 40px;
            margin: 0 auto 8px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }
        
        /* Preview Panel */
        .preview-panel {
            background: var(--dark-light);
            border-radius: 15px;
            padding: 30px;
            border: 1px solid var(--border);
            display: flex;
            flex-direction: column;
        }
        
        .preview-container {
            flex: 1;
            background: var(--dark);
            border-radius: 15px;
            border: 2px solid var(--border);
            margin-bottom: 20px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .gradient-preview {
            width: 100%;
            height: 300px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }
        
        .gradient-info {
            padding: 20px;
            text-align: center;
        }
        
        .gradient-name {
            color: var(--primary);
            font-size: 1.5rem;
            margin-bottom: 10px;
        }
        
        .gradient-description {
            color: var(--text-light);
            font-size: 1rem;
        }
        
        /* Gradient Details */
        .gradient-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        .gradient-detail {
            background: var(--dark);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            border: 1px solid var(--border);
        }
        
        .detail-label {
            color: var(--text-light);
            font-size: 0.9rem;
            margin-bottom: 5px;
        }
        
        .detail-value {
            color: var(--primary);
            font-weight: 600;
            font-size: 1.1rem;
            word-break: break-all;
        }
        
        /* Action Buttons */
        .action-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-top: 20px;
        }
        
        .btn {
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: var(--primary);
            color: var(--dark);
        }
        
        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 213, 255, 0.4);
        }
        
        .btn-secondary {
            background: var(--dark);
            color: var(--primary);
            border: 2px solid var(--primary);
        }
        
        .btn-secondary:hover {
            background: var(--primary-light);
            transform: translateY(-2px);
        }
        
        .btn-download {
            background: var(--primary);
            color: var(--dark);
            padding: 12px 25px;
            border-radius: 8px;
        }
        
        .btn-reset {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
            padding: 12px 25px;
            border-radius: 8px;
        }
        
        /* Features Grid */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 40px 30px 0;
            padding-bottom: 40px;
        }
        
        .feature-card {
            background: var(--dark-light);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s;
        }
        
        .feature-card:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 213, 255, 0.2);
        }
        
        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: var(--primary);
        }
        
        .feature-card h3 {
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        /* Slider Styles */
        .slider-container {
            margin: 15px 0;
        }
        
        .slider {
            width: 100%;
            height: 6px;
            background: var(--border);
            border-radius: 3px;
            outline: none;
            -webkit-appearance: none;
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: var(--primary);
            border-radius: 50%;
            cursor: pointer;
        }
        
        .slider-value {
            color: var(--primary);
            font-weight: 600;
            text-align: center;
            margin-top: 5px;
            font-size: 0.9rem;
        }
        
        /* Download Success Message */
        .download-success {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--primary);
            color: var(--dark);
            padding: 15px 20px;
            border-radius: 10px;
            font-weight: 600;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 1000;
        }
        
        .download-success.show {
            transform: translateX(0);
        }
        
        /* Saved Gradients */
        .saved-gradients {
            margin: 30px;
        }
        
        .gradients-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .saved-gradient {
            background: var(--dark);
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid var(--border);
        }
        
        .saved-gradient:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
        }
        
        .saved-preview {
            height: 80px;
            border-radius: 6px;
            margin-bottom: 8px;
        }
        
        .saved-name {
            font-size: 0.9rem;
            text-align: center;
            color: var(--text-light);
        }
        
        /* Color Stops */
        .color-stops {
            margin-top: 20px;
        }
        
        .color-stop {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            padding: 10px;
            background: var(--dark);
            border-radius: 8px;
            border: 1px solid var(--border);
        }
        
        .stop-preview {
            width: 40px;
            height: 40px;
            border-radius: 6px;
            border: 1px solid var(--border);
            cursor: pointer;
        }
        
        .stop-controls {
            flex: 1;
        }
        
        .stop-position {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .remove-stop {
            background: transparent;
            border: none;
            color: #ff4444;
            cursor: pointer;
            font-size: 1.2rem;
            padding: 5px;
            transition: all 0.3s;
        }
        
        .remove-stop:hover {
            color: #ff6666;
            transform: scale(1.1);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .tool-header {
                flex-direction: column;
                text-align: center;
            }
            
            .tool-info {
                flex-direction: column;
            }
            
            .tool-actions {
                width: 100%;
                justify-content: center;
            }
            
            .main-layout {
                margin: 0 15px 30px;
            }
            
            .saved-gradients {
                margin: 30px 15px;
            }
            
            .features-grid {
                margin: 30px 15px 0;
            }
            
            .action-buttons {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Tool Card -->
        <div class="tool-card">
            <div class="tool-header">
                <div class="tool-info">
                    <div class="tool-icon">
                        <i class="fas fa-palette"></i>
                    </div>
                    <div class="tool-text">
                        <h1>Gradient Generator Pro</h1>
                        <p>Create stunning gradients for your designs with professional tools</p>
                    </div>
                </div>
                <div class="tool-actions">
                    <button class="btn btn-reset" id="globalResetBtn">
                        <i class="fas fa-redo"></i> Reset All
                    </button>
                    <button class="btn btn-download" id="globalDownloadBtn">
                        <i class="fas fa-download"></i> Export All
                    </button>
                </div>
            </div>
            
            <div class="main-layout">
                <!-- Controls Panel -->
                <div class="controls-panel">
                    <div class="panel-section">
                        <h3 class="section-title">üéØ Gradient Colors</h3>
                        <div class="color-stops" id="colorStops">
                            <!-- Color stops will be generated here -->
                        </div>
                        <button class="btn btn-secondary" id="addColorBtn">
                            <i class="fas fa-plus"></i> Add Color Stop
                        </button>
                    </div>
                    
                    <div class="panel-section">
                        <h3 class="section-title">üîÑ Gradient Type</h3>
                        <div class="gradient-types">
                            <div class="gradient-type selected" data-type="linear">
                                <div class="type-preview" style="background: linear-gradient(to right, rgb(0, 213, 255), #000000);"></div>
                                <div>Linear</div>
                            </div>
                            <div class="gradient-type" data-type="radial">
                                <div class="type-preview" style="background: radial-gradient(circle, rgb(0, 213, 255), #000000);"></div>
                                <div>Radial</div>
                            </div>
                            <div class="gradient-type" data-type="conic">
                                <div class="type-preview" style="background: conic-gradient(rgb(0, 213, 255), #000000);">C</div>
                                <div>Conic</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="panel-section">
                        <h3 class="section-title">‚öôÔ∏è Settings</h3>
                        <div class="slider-container">
                            <label>Angle: <span id="angleValue">90</span>¬∞</label>
                            <input type="range" min="0" max="360" value="90" class="slider" id="gradientAngle">
                        </div>
                        
                        <div class="input-group">
                            <label for="gradientShape">Shape (Radial Only)</label>
                            <select id="gradientShape">
                                <option value="circle">Circle</option>
                                <option value="ellipse">Ellipse</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="panel-section">
                        <h3 class="section-title">üé≤ Quick Actions</h3>
                        <div class="action-buttons">
                            <button class="btn btn-secondary" id="randomBtn">
                                üé≤ Random
                            </button>
                            <button class="btn btn-secondary" id="saveBtn">
                                üíæ Save
                            </button>
                            <button class="btn btn-secondary" id="resetBtn">
                                üîÑ Reset
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Preview Panel -->
                <div class="preview-panel">
                    <div class="preview-container">
                        <div class="gradient-preview" id="gradientPreview">
                            <!-- Gradient will be generated here -->
                        </div>
                    </div>
                    
                    <div class="gradient-info">
                        <div class="gradient-name" id="gradientName">Blue Gradient</div>
                        <div class="gradient-description" id="gradientDescription">Linear gradient from rgb(0, 213, 255) to #000000</div>
                    </div>
                    
                    <div class="gradient-details" id="gradientDetails">
                        <!-- Gradient details will be generated here -->
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn btn-primary" id="downloadPngBtn">
                            üíæ Download PNG
                        </button>
                        <button class="btn btn-primary" id="downloadCssBtn">
                            üìê Copy CSS
                        </button>
                        <button class="btn btn-primary" id="shareBtn">
                            üîó Share
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Saved Gradients -->
            <div class="saved-gradients">
                <h3 class="section-title">üìö Saved Gradients</h3>
                <div class="gradients-grid" id="savedGradients">
                    <!-- Saved gradients will appear here -->
                </div>
            </div>
            
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">üé®</div>
                    <h3>Professional Gradients</h3>
                    <p>Create beautiful gradients for any design project</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üíæ</div>
                    <h3>Export Options</h3>
                    <p>Download as PNG or copy CSS code instantly</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üîÑ</div>
                    <h3>Multiple Types</h3>
                    <p>Create linear, radial, and conic gradients</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üìö</div>
                    <h3>Save & Organize</h3>
                    <p>Save your favorite gradients for future projects</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Download Success Message -->
    <div class="download-success" id="downloadSuccess">
        <i class="fas fa-check-circle"></i> Operation Completed!
    </div>

    <script>
        // Current gradient state
        let currentGradient = {
            type: 'linear',
            angle: 90,
            shape: 'circle',
            colors: [
                { color: 'rgb(0, 213, 255)', position: 0 },
                { color: '#000000', position: 100 }
            ]
        };

        // Saved gradients
        let savedGradients = [];

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            initializeEventListeners();
            renderColorStops();
            generateGradient();
            loadSavedGradients();
        });

        function initializeEventListeners() {
            // Gradient type selection
            document.querySelectorAll('.gradient-type').forEach(type => {
                type.addEventListener('click', function() {
                    document.querySelectorAll('.gradient-type').forEach(t => t.classList.remove('selected'));
                    this.classList.add('selected');
                    currentGradient.type = this.dataset.type;
                    generateGradient();
                });
            });

            // Angle slider
            document.getElementById('gradientAngle').addEventListener('input', function() {
                currentGradient.angle = parseInt(this.value);
                document.getElementById('angleValue').textContent = this.value;
                generateGradient();
            });

            // Shape select
            document.getElementById('gradientShape').addEventListener('change', function() {
                currentGradient.shape = this.value;
                generateGradient();
            });

            // Add color button
            document.getElementById('addColorBtn').addEventListener('click', addColorStop);

            // Action buttons
            document.getElementById('randomBtn').addEventListener('click', generateRandomGradient);
            document.getElementById('saveBtn').addEventListener('click', saveGradient);
            document.getElementById('resetBtn').addEventListener('click', resetGradient);
            document.getElementById('downloadPngBtn').addEventListener('click', downloadGradient);
            document.getElementById('downloadCssBtn').addEventListener('click', copyCssCode);
            document.getElementById('shareBtn').addEventListener('click', shareGradient);
            
            // Global buttons
            document.getElementById('globalResetBtn').addEventListener('click', resetAll);
            document.getElementById('globalDownloadBtn').addEventListener('click', downloadAllGradients);
        }

        function renderColorStops() {
            const container = document.getElementById('colorStops');
            container.innerHTML = '';
            
            currentGradient.colors.forEach((stop, index) => {
                const stopElement = document.createElement('div');
                stopElement.className = 'color-stop';
                
                stopElement.innerHTML = `
                    <div class="stop-preview" style="background: ${stop.color};" data-index="${index}"></div>
                    <div class="stop-controls">
                        <div class="input-group">
                            <label>Color ${index + 1}</label>
                            <input type="color" value="${hexToRgb(stop.color) || stop.color}" data-index="${index}" class="color-stop-input">
                        </div>
                        <div class="stop-position">
                            <label>Position: <span class="position-value">${stop.position}%</span></label>
                            <input type="range" min="0" max="100" value="${stop.position}" class="slider position-slider" data-index="${index}">
                        </div>
                    </div>
                    ${currentGradient.colors.length > 2 ? `<button class="remove-stop" data-index="${index}"><i class="fas fa-times"></i></button>` : ''}
                `;
                
                container.appendChild(stopElement);
            });
            
            // Add event listeners to dynamic elements
            document.querySelectorAll('.color-stop-input').forEach(input => {
                input.addEventListener('input', function() {
                    const index = parseInt(this.dataset.index);
                    currentGradient.colors[index].color = this.value;
                    document.querySelector(`.stop-preview[data-index="${index}"]`).style.background = this.value;
                    generateGradient();
                });
            });
            
            document.querySelectorAll('.position-slider').forEach(slider => {
                slider.addEventListener('input', function() {
                    const index = parseInt(this.dataset.index);
                    currentGradient.colors[index].position = parseInt(this.value);
                    document.querySelector(`.position-value[data-index="${index}"]`).textContent = `${this.value}%`;
                    generateGradient();
                });
            });
            
            document.querySelectorAll('.remove-stop').forEach(button => {
                button.addEventListener('click', function() {
                    const index = parseInt(this.dataset.index);
                    removeColorStop(index);
                });
            });
        }

        function addColorStop() {
            // Find a position for the new color (middle of two existing stops)
            let newPosition = 50;
            if (currentGradient.colors.length > 1) {
                // Sort colors by position
                const sortedColors = [...currentGradient.colors].sort((a, b) => a.position - b.position);
                
                // Find the largest gap
                let maxGap = 0;
                let insertIndex = 0;
                
                for (let i = 0; i < sortedColors.length - 1; i++) {
                    const gap = sortedColors[i + 1].position - sortedColors[i].position;
                    if (gap > maxGap) {
                        maxGap = gap;
                        newPosition = sortedColors[i].position + gap / 2;
                        insertIndex = i + 1;
                    }
                }
                
                // Insert at the correct position to maintain order
                currentGradient.colors.splice(insertIndex, 0, {
                    color: getRandomColor(),
                    position: newPosition
                });
            } else {
                currentGradient.colors.push({
                    color: getRandomColor(),
                    position: newPosition
                });
            }
            
            renderColorStops();
            generateGradient();
        }

        function removeColorStop(index) {
            if (currentGradient.colors.length > 2) {
                currentGradient.colors.splice(index, 1);
                renderColorStops();
                generateGradient();
            }
        }

        function generateGradient() {
            const gradientString = generateGradientString();
            document.getElementById('gradientPreview').style.background = gradientString;
            updateGradientInfo();
            updateGradientDetails(gradientString);
        }

        function generateGradientString() {
            const sortedColors = [...currentGradient.colors].sort((a, b) => a.position - b.position);
            const colorStops = sortedColors.map(stop => `${stop.color} ${stop.position}%`).join(', ');
            
            switch(currentGradient.type) {
                case 'linear':
                    return `linear-gradient(${currentGradient.angle}deg, ${colorStops})`;
                case 'radial':
                    return `radial-gradient(${currentGradient.shape}, ${colorStops})`;
                case 'conic':
                    return `conic-gradient(from ${currentGradient.angle}deg, ${colorStops})`;
                default:
                    return `linear-gradient(${currentGradient.angle}deg, ${colorStops})`;
            }
        }

        function updateGradientInfo() {
            const typeNames = {
                'linear': 'Linear',
                'radial': 'Radial',
                'conic': 'Conic'
            };
            
            const colorNames = currentGradient.colors.map(stop => stop.color).join(' ‚Üí ');
            
            document.getElementById('gradientName').textContent = `${typeNames[currentGradient.type]} Gradient`;
            document.getElementById('gradientDescription').textContent = 
                `${typeNames[currentGradient.type]} gradient with ${currentGradient.colors.length} colors`;
        }

        function updateGradientDetails(gradientString) {
            const details = document.getElementById('gradientDetails');
            details.innerHTML = '';
            
            const formats = ['CSS', 'Preview'];
            
            formats.forEach(format => {
                const detail = document.createElement('div');
                detail.className = 'gradient-detail';
                
                let value = '';
                if (format === 'CSS') {
                    value = `background: ${gradientString};`;
                } else if (format === 'Preview') {
                    value = gradientString;
                }
                
                detail.innerHTML = `
                    <div class="detail-label">${format}</div>
                    <div class="detail-value">${value}</div>
                `;
                
                details.appendChild(detail);
            });
        }

        // Utility functions
        function getRandomColor() {
            const colors = [
                'rgb(0, 213, 255)', '#00a8ff', '#0097e6', '#192a56', '#273c75',
                '#40739e', '#487eb0', '#8c7ae6', '#e84118', '#fbc531'
            ];
            return colors[Math.floor(Math.random() * colors.length)];
        }

        function hexToRgb(hex) {
            // Simple hex to rgb conversion for color inputs
            if (hex.startsWith('#')) {
                const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
                return result ? `rgb(${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(result[3], 16)})` : null;
            }
            return hex;
        }

        // Action functions
        function generateRandomGradient() {
            // Randomize gradient type
            const types = ['linear', 'radial', 'conic'];
            const randomType = types[Math.floor(Math.random() * types.length)];
            
            document.querySelectorAll('.gradient-type').forEach(t => t.classList.remove('selected'));
            document.querySelector(`.gradient-type[data-type="${randomType}"]`).classList.add('selected');
            currentGradient.type = randomType;
            
            // Randomize angle
            const randomAngle = Math.floor(Math.random() * 360);
            document.getElementById('gradientAngle').value = randomAngle;
            document.getElementById('angleValue').textContent = randomAngle;
            currentGradient.angle = randomAngle;
            
            // Randomize colors (2-4 colors)
            const colorCount = Math.floor(Math.random() * 3) + 2;
            currentGradient.colors = [];
            
            for (let i = 0; i < colorCount; i++) {
                currentGradient.colors.push({
                    color: getRandomColor(),
                    position: Math.floor((i / (colorCount - 1)) * 100)
                });
            }
            
            renderColorStops();
            generateGradient();
            showSuccessMessage('Random gradient generated!');
        }

        function saveGradient() {
            const gradientName = prompt('Enter a name for this gradient:', `My ${currentGradient.type} Gradient`);
            if (gradientName) {
                const gradient = {
                    name: gradientName,
                    type: currentGradient.type,
                    angle: currentGradient.angle,
                    shape: currentGradient.shape,
                    colors: [...currentGradient.colors],
                    timestamp: new Date().toISOString()
                };
                
                savedGradients.push(gradient);
                saveToLocalStorage();
                loadSavedGradients();
                showSuccessMessage(`Gradient "${gradientName}" saved!`);
            }
        }

        function resetGradient() {
            document.getElementById('gradientAngle').value = 90;
            document.getElementById('angleValue').textContent = '90';
            document.getElementById('gradientShape').value = 'circle';
            
            document.querySelectorAll('.gradient-type').forEach(t => t.classList.remove('selected'));
            document.querySelector('.gradient-type[data-type="linear"]').classList.add('selected');
            
            currentGradient = {
                type: 'linear',
                angle: 90,
                shape: 'circle',
                colors: [
                    { color: 'rgb(0, 213, 255)', position: 0 },
                    { color: '#000000', position: 100 }
                ]
            };
            
            renderColorStops();
            generateGradient();
            showSuccessMessage('Gradient reset to default!');
        }

        function resetAll() {
            resetGradient();
            savedGradients = [];
            saveToLocalStorage();
            loadSavedGradients();
            showSuccessMessage('All gradients reset!');
        }

        function downloadGradient() {
            // Create a canvas element to generate the PNG
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            const width = 800;
            const height = 400;
            
            canvas.width = width;
            canvas.height = height;
            
            // Create gradient
            const gradientString = generateGradientString();
            
            // Create linear gradient for canvas
            let gradient;
            if (currentGradient.type === 'linear') {
                gradient = ctx.createLinearGradient(0, 0, width, 0);
            } else {
                gradient = ctx.createLinearGradient(0, 0, width, 0); // Fallback
            }
            
            // Add color stops to the gradient
            currentGradient.colors.forEach(stop => {
                gradient.addColorStop(stop.position / 100, stop.color);
            });
            
            // Fill the canvas with the gradient
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, width, height);
            
            // Create download link
            const link = document.createElement('a');
            link.download = `gradient-${currentGradient.type}-${Date.now()}.png`;
            link.href = canvas.toDataURL('image/png');
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            showSuccessMessage('Gradient downloaded as PNG!');
        }

        function downloadAllGradients() {
            const exportData = {
                currentGradient: currentGradient,
                savedGradients: savedGradients,
                exportDate: new Date().toISOString(),
                tool: 'Gradient Generator Pro'
            };
            
            const dataStr = JSON.stringify(exportData, null, 2);
            const blob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `gradient-collection-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showSuccessMessage('All gradients exported!');
        }

        function copyCssCode() {
            const gradientString = generateGradientString();
            const cssCode = `background: ${gradientString};`;
            
            copyToClipboard(cssCode);
            showSuccessMessage('CSS code copied to clipboard!');
        }

        function shareGradient() {
            const gradientString = generateGradientString();
            if (navigator.share) {
                navigator.share({
                    title: 'My Gradient Creation',
                    text: 'Check out this gradient I created with Gradient Generator Pro!',
                    url: window.location.href
                });
            } else {
                copyToClipboard(gradientString);
                showSuccessMessage('Gradient code copied to clipboard!');
            }
        }

        function copyToClipboard(text) {
            const textarea = document.createElement('textarea');
            textarea.value = text;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
        }

        function showSuccessMessage(message = 'Operation Completed!') {
            const successMsg = document.getElementById('downloadSuccess');
            successMsg.innerHTML = `<i class="fas fa-check-circle"></i> ${message}`;
            successMsg.classList.add('show');
            setTimeout(() => {
                successMsg.classList.remove('show');
            }, 3000);
        }

        // Local storage functions
        function saveToLocalStorage() {
            localStorage.setItem('gradientGenerator_savedGradients', JSON.stringify(savedGradients));
        }

        function loadSavedGradients() {
            const saved = localStorage.getItem('gradientGenerator_savedGradients');
            if (saved) {
                savedGradients = JSON.parse(saved);
            }
            renderSavedGradients();
        }

        function renderSavedGradients() {
            const container = document.getElementById('savedGradients');
            container.innerHTML = '';
            
            savedGradients.forEach((gradient, index) => {
                const gradientElement = document.createElement('div');
                gradientElement.className = 'saved-gradient';
                
                // Create gradient preview
                const sortedColors = [...gradient.colors].sort((a, b) => a.position - b.position);
                const colorStops = sortedColors.map(stop => `${stop.color} ${stop.position}%`).join(', ');
                
                let gradientStyle;
                if (gradient.type === 'linear') {
                    gradientStyle = `linear-gradient(${gradient.angle}deg, ${colorStops})`;
                } else if (gradient.type === 'radial') {
                    gradientStyle = `radial-gradient(${gradient.shape}, ${colorStops})`;
                } else {
                    gradientStyle = `conic-gradient(from ${gradient.angle}deg, ${colorStops})`;
                }
                
                gradientElement.innerHTML = `
                    <div class="saved-preview" style="background: ${gradientStyle};"></div>
                    <div class="saved-name">${gradient.name}</div>
                `;
                
                gradientElement.addEventListener('click', () => loadSavedGradient(index));
                
                container.appendChild(gradientElement);
            });
        }

        function loadSavedGradient(index) {
            const gradient = savedGradients[index];
            
            // Update UI to match saved gradient
            document.querySelectorAll('.gradient-type').forEach(t => t.classList.remove('selected'));
            document.querySelector(`.gradient-type[data-type="${gradient.type}"]`).classList.add('selected');
            
            document.getElementById('gradientAngle').value = gradient.angle;
            document.getElementById('angleValue').textContent = gradient.angle;
            document.getElementById('gradientShape').value = gradient.shape;
            
            currentGradient.type = gradient.type;
            currentGradient.angle = gradient.angle;
            currentGradient.shape = gradient.shape;
            currentGradient.colors = [...gradient.colors];
            
            renderColorStops();
            generateGradient();
            showSuccessMessage(`Loaded "${gradient.name}"`);
        }
    </script>
</body>
</html>
